(this["webpackJsonpsuper-admin-frontend"]=this["webpackJsonpsuper-admin-frontend"]||[]).push([[51],{966:function(e,t,n){"use strict";n.r(t);var a=n(34),l=n(24),s=n(1),c=n(10),i=n(2),r=n(13),o=n(20),d=n(865),j=n.n(d),m=n(14),u=n(878),b=n(33),h=n(3);t.default=function(){var e,t,n,d,p,O,v,x=Object(r.c)(),f=Object(r.d)((function(e){var t;return(null===(t=e.ito)||void 0===t?void 0:t.allAdmins)||[]})),N=Object(m.g)(),g=Object(i.useState)(!1),_=Object(c.a)(g,2),y=_[0],D=_[1],S=Object(i.useState)({itoName:"",itoSeries:"",tokenName:"",description:"",threshold:"",startDate:"",endDate:"",term_sheets:[],threshold_type:"limited",alloted_admins:[]}),E=Object(c.a)(S,2),T=E[0],k=E[1],C=Object(i.useState)(!1),w=Object(c.a)(C,2),A=w[0],q=w[1],F=T.itoName,I=T.itoSeries,R=T.tokenName,U=T.description,L=T.threshold,z=T.startDate,J=T.endDate,V=T.term_sheets,$=T.threshold_type,B=T.alloted_admins,H=function(e){k(Object(s.a)(Object(s.a)({},T),{},Object(l.a)({},e.target.name,e.target.value)))},P=Object(r.d)((function(e){var t,n;return null===e||void 0===e||null===(t=e.subscription)||void 0===t||null===(n=t.subscriptionData)||void 0===n?void 0:n.data}));Object(i.useEffect)((function(){x(Object(o.u)())}),[]),Object(i.useEffect)((function(){x(Object(b.c)())}),[]);return Object(h.jsx)("div",{className:"col-12 col-md-8 offset-md-2",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-md-12",children:[Object(h.jsx)("h5",{children:"Add New Subscription"}),Object(h.jsx)("div",{className:"card mb-4",children:Object(h.jsx)("div",{className:"card-body p-5",children:Object(h.jsxs)("form",{className:"form",children:[Object(h.jsxs)("div",{className:"form-group row",children:[Object(h.jsx)("div",{className:"col-sm-6",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Enter ITO Name"}),Object(h.jsx)("input",{type:"text",placeholder:"ITO Name",className:"form-control",name:"itoName",value:F||(null===P||void 0===P||null===(e=P[0])||void 0===e?void 0:e.ito_name),onChange:function(e){return H(e)},required:y})]})}),Object(h.jsx)("div",{className:"col-sm-6",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Enter ITO Series Name"}),Object(h.jsx)("input",{type:"text",placeholder:"ITO Series Name",className:"form-control",name:"itoSeries",value:I||(null===P||void 0===P||null===(t=P[0])||void 0===t?void 0:t.ito_series),onChange:function(e){return H(e)},required:y})]})}),Object(h.jsxs)("div",{className:"col-sm-6",children:[Object(h.jsx)("label",{children:"Enter Token Name"}),Object(h.jsx)("input",{type:"text",placeholder:"Token Name",className:"form-control",name:"tokenName",value:R||(null===P||void 0===P||null===(n=P[0])||void 0===n?void 0:n.ito_token),onChange:function(e){return H(e)},required:y})]}),Object(h.jsx)("div",{className:"col-sm-6",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Admins"}),Object(h.jsx)(j.a,{displayValue:"label",onRemove:function(e){k(Object(s.a)(Object(s.a)({},T),{},{alloted_admins:Object(a.a)(e)}))},onSearch:function(){},onSelect:function(e){k(Object(s.a)(Object(s.a)({},T),{},{alloted_admins:Object(a.a)(e)}))},options:Object(a.a)(f)})]})}),Object(h.jsx)("div",{className:"col-sm-6",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Enter Threshold in Dollars"}),Object(h.jsxs)("div",{className:"input-icon",children:[Object(h.jsx)("i",{children:"$"}),Object(h.jsx)("input",{type:"text",placeholder:"Enter Threshold in Dollars",className:"form-control",name:"threshold",value:L||(null===P||void 0===P||null===(d=P[0])||void 0===d?void 0:d.threshold),onChange:function(e){return function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&k(Object(s.a)(Object(s.a)({},T),{},Object(l.a)({},e.target.name,e.target.value)))}(e)},required:y})]})]})}),Object(h.jsx)("div",{className:"col-sm-6",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Select Threshold Type"}),Object(h.jsxs)("select",{name:"threshold_type",className:"form-control",onChange:H,value:null===P||void 0===P?void 0:P.threshold_type,children:[Object(h.jsx)("option",{value:"limited",children:"Limited"}),Object(h.jsx)("option",{value:"unlimited",children:"Unlimited"})]})]})}),Object(h.jsx)("div",{className:"col-sm-6",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Enter Start Date"}),Object(h.jsx)("input",{type:"date",placeholder:"Enter Start Date",className:"form-control",name:"startDate",value:z||(null===P||void 0===P||null===(p=P[0])||void 0===p?void 0:p.start_date),onChange:function(e){return H(e)},required:y})]})}),Object(h.jsx)("div",{className:"col-sm-6",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Enter End Date"}),Object(h.jsx)("input",{type:"date",placeholder:"Enter End Date",className:"form-control",name:"endDate",value:J||(null===P||void 0===P||null===(O=P[0])||void 0===O?void 0:O.end_date),onChange:function(e){return H(e)},required:y})]})}),Object(h.jsx)("div",{className:"col-sm-12",children:Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{style:{display:"block",paddingTop:"15px"},children:"Upload Term-Sheets"}),Object(h.jsx)(u.a,{style:{padding:"100px"},acceptedFiles:["application/pdf"],onChange:function(e){k(Object(s.a)(Object(s.a)({},T),{},{term_sheets:e}))},showFileNames:!0,dropzoneText:"Click to Upload Files or Drag Here...",showAlerts:!0,filesLimit:5,maxFileSize:25e6,onDelete:function(e){var t=V.filter((function(t){return t.name!==e.name}));k(Object(s.a)(Object(s.a)({},T),{},{term_sheets:t}))}})]})}),Object(h.jsxs)("div",{className:"col-sm-12",children:[Object(h.jsx)("label",{children:"Enter Description"}),Object(h.jsx)("textarea",{placeholder:"Enter Description",className:"form-control",name:"description",value:U||(null===P||void 0===P||null===(v=P[0])||void 0===v?void 0:v.description),onChange:function(e){return H(e)},required:y})]})]}),Object(h.jsxs)("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:A,onClick:function(e){e.preventDefault(),q(!0),D(!0);var t=new FormData;for(var n in t.append("ito_name",F),t.append("ito_series",I),t.append("ito_token",R),t.append("description",U),t.append("threshold",L),t.append("start_date",z),t.append("end_date",J),t.append("threshold_type",$),V)t.append("term_sheets",V[n]);B.forEach((function(e,n){t.append("alloted_admins[".concat(n,"][id]"),e.id)})),x(Object(o.p)({data:t,setFormData:k,setLoading:q,history:N}))},children:[A&&Object(h.jsx)("span",{className:"spinner-border spinner-border-sm"})," ","CREATE SUBSCRIPTION"]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg draft",disabled:A,onClick:function(e){e.preventDefault(),D(!1);var t={ito_name:F||null,ito_series:I||null,ito_token:R||null,description:U||null,threshold:L||null,start_date:z||null,end_date:J||null,threshold_type:$||null};x(Object(b.e)(t))},children:"SAVE AS DRAFT"})]})})})]})})})}}}]);
//# sourceMappingURL=51.4743cfbd.chunk.js.map