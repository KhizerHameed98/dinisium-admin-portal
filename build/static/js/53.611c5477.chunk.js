(this["webpackJsonpsuper-admin-frontend"]=this["webpackJsonpsuper-admin-frontend"]||[]).push([[53],{996:function(e,t,a){"use strict";a.r(t);var n=a(10),s=a(2),i=a(419),o=a.n(i),r=(a(413),a(28));function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,a){return t&&l(e.prototype,t),a&&l(e,a),e}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m(e);if(t){var s=m(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return f(this,a)}}function h(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=String(e);if(0===t)return a;var n=a.match(/(.*?)([0-9]+)(.*)/),s=n?n[1]:"",i=n?n[3]:"",o=n?n[2]:a,r=o.length>=t?o:(h(Array(t)).map((function(){return"0"})).join("")+o).slice(-1*t);return"".concat(s).concat(r).concat(i)}var O={daysInHours:!1,zeroPadTime:2};function y(e,t){var a=e.days,n=e.hours,s=e.minutes,i=e.seconds,o=Object.assign(Object.assign({},O),t),r=o.daysInHours,c=o.zeroPadTime,l=o.zeroPadDays,d=void 0===l?c:l,u=Math.min(2,c),m=r?v(n+24*a,c):v(n,u);return{days:r?"":v(a,d),hours:m,minutes:v(s,u),seconds:v(i,u)}}var x=function(e){u(a,e);var t=b(a);function a(){var e;return c(this,a),(e=t.apply(this,arguments)).state={count:e.props.count||3},e.startCountdown=function(){e.interval=window.setInterval((function(){0===e.state.count-1?(e.stopCountdown(),e.props.onComplete&&e.props.onComplete()):e.setState((function(e){return{count:e.count-1}}))}),1e3)},e.stopCountdown=function(){clearInterval(e.interval)},e.addTime=function(t){e.stopCountdown(),e.setState((function(e){return{count:e.count+t}}),e.startCountdown)},e}return d(a,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?Object(s.cloneElement)(this.props.children,{count:this.state.count}):null}}]),a}(s.Component);x.propTypes={count:r.number,children:r.element,onComplete:r.func};var g=function(e){u(a,e);var t=b(a);function a(e){var n;if(c(this,a),(n=t.call(this,e)).mounted=!1,n.initialTimestamp=n.calcOffsetStartTimestamp(),n.offsetStartTimestamp=n.props.autoStart?0:n.initialTimestamp,n.offsetTime=0,n.legacyMode=!1,n.legacyCountdownRef=Object(s.createRef)(),n.tick=function(){var e=n.calcTimeDelta(),t=e.completed&&!n.props.overtime?void 0:n.props.onTick;n.setTimeDeltaState(e,void 0,t)},n.start=function(){if(!n.isStarted()){var e=n.offsetStartTimestamp;n.offsetStartTimestamp=0,n.offsetTime+=e?n.calcOffsetStartTimestamp()-e:0;var t=n.calcTimeDelta();n.setTimeDeltaState(t,"STARTED",n.props.onStart),n.props.controlled||t.completed&&!n.props.overtime||(n.clearTimer(),n.interval=window.setInterval(n.tick,n.props.intervalDelay))}},n.pause=function(){n.isPaused()||(n.clearTimer(),n.offsetStartTimestamp=n.calcOffsetStartTimestamp(),n.setTimeDeltaState(n.state.timeDelta,"PAUSED",n.props.onPause))},n.stop=function(){n.isStopped()||(n.clearTimer(),n.offsetStartTimestamp=n.calcOffsetStartTimestamp(),n.offsetTime=n.offsetStartTimestamp-n.initialTimestamp,n.setTimeDeltaState(n.calcTimeDelta(),"STOPPED",n.props.onStop))},n.isStarted=function(){return n.isStatus("STARTED")},n.isPaused=function(){return n.isStatus("PAUSED")},n.isStopped=function(){return n.isStatus("STOPPED")},n.isCompleted=function(){return n.isStatus("COMPLETED")},n.handleOnComplete=function(e){n.props.onComplete&&n.props.onComplete(e)},e.date){var i=n.calcTimeDelta();n.state={timeDelta:i,status:i.completed?"COMPLETED":"STOPPED"}}else n.legacyMode=!0;return n}return d(a,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(e){this.legacyMode||this.props.date!==e.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var e=this.props,t=e.date,a=e.now,n=e.precision,s=e.controlled,i=e.overtime;return function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.now,s=void 0===n?Date.now:n,i=a.precision,o=void 0===i?0:i,r=a.controlled,c=a.offsetTime,l=void 0===c?0:c,d=a.overtime;t="string"===typeof e?new Date(e).getTime():e instanceof Date?e.getTime():e,r||(t+=l);var u=r?t:t-s(),m=Math.min(20,Math.max(0,o)),p=Math.round(1e3*parseFloat(((d?u:Math.max(0,u))/1e3).toFixed(m))),f=Math.abs(p)/1e3;return{total:p,days:Math.floor(f/86400),hours:Math.floor(f/3600%24),minutes:Math.floor(f/60%60),seconds:Math.floor(f%60),milliseconds:Number((f%1*1e3).toFixed()),completed:p<=0}}(t,{now:a,precision:n,controlled:s,offsetTime:this.offsetTime,overtime:i})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(e){this.legacyCountdownRef.current.addTime(e)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(e){return this.state.status===e}},{key:"setTimeDeltaState",value:function(e,t,a){var n=this;if(this.mounted){var s;!this.state.timeDelta.completed&&e.completed&&(this.props.overtime||this.clearTimer(),s=this.handleOnComplete);return this.setState((function(a){var s=t||a.status;return e.completed&&!n.props.overtime?s="COMPLETED":t||"COMPLETED"!==s||(s="STOPPED"),{timeDelta:e,status:s}}),(function(){a&&a(n.state.timeDelta),s&&s(n.state.timeDelta)}))}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var e=this.props,t=e.daysInHours,a=e.zeroPadTime,n=e.zeroPadDays,s=this.state.timeDelta;return Object.assign(Object.assign({},s),{api:this.getApi(),props:this.props,formatted:y(s,{daysInHours:t,zeroPadTime:a,zeroPadDays:n})})}},{key:"render",value:function(){if(this.legacyMode){var e=this.props,t=e.count,a=e.children,n=e.onComplete;return Object(s.createElement)(x,{ref:this.legacyCountdownRef,count:t,onComplete:n},a)}var i=this.props,o=i.className,r=i.overtime,c=i.children,l=i.renderer,d=this.getRenderProps();if(l)return l(d);if(c&&this.state.timeDelta.completed&&!r)return Object(s.cloneElement)(c,{countdown:d});var u=d.formatted,m=u.days,p=u.hours,f=u.minutes,b=u.seconds;return Object(s.createElement)("span",{className:o},d.total<0?"-":"",m,m?":":"",p,":",f,":",b)}}]),a}(s.Component);g.defaultProps=Object.assign(Object.assign({},O),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0}),g.propTypes={date:Object(r.oneOfType)([Object(r.instanceOf)(Date),r.string,r.number]),daysInHours:r.bool,zeroPadTime:r.number,zeroPadDays:r.number,controlled:r.bool,intervalDelay:r.number,precision:r.number,autoStart:r.bool,overtime:r.bool,className:r.string,children:r.element,renderer:r.func,now:r.func,onMount:r.func,onStart:r.func,onPause:r.func,onStop:r.func,onTick:r.func,onComplete:r.func};var T=g,S=a(13),w=a(20),D=a(3),N=function(e){var t=e.setShowBtn;return Object(s.useEffect)((function(){t(!1)}),[]),Object(D.jsx)("span",{children:"Ended"})},C=function(){return Object(D.jsx)("span",{children:"Started"})};t.default=Object(S.b)((function(e){return{voting:e.voting}}),{getVoteDetailById:w.gb,castVote:w.f,getVoteStatus:w.hb})((function(e){var t=e.match,a=e.getVoteDetailById,i=e.castVote,r=e.getVoteStatus,c=e.voting,l=c.votingDetail,d=c.voteStatus,u=e.location,m=Object(s.useState)(!1),p=Object(n.a)(m,2),f=p[0],b=p[1],h=Object(s.useState)(!1),j=Object(n.a)(h,2),v=j[0],O=j[1],y=Object(s.useState)(!1),x=Object(n.a)(y,2),g=x[0],S=x[1],w=Object(s.useState)(!1),P=Object(n.a)(w,2),M=P[0],k=P[1],E=Object(s.useState)(void 0),A=Object(n.a)(E,2),I=A[0],R=A[1],_=Object(s.useState)(void 0),Y=Object(n.a)(_,2),z=Y[0],V=Y[1],B=(new Date).getTime();return Object(s.useEffect)((function(){var e=t.params.id;a(e,R,V),r({id:e}),u&&u.state&&"ongoing"===u.state.status?(O(!0),b(!0)):u&&u.state&&"upcoming"===u.state.status?(O(!1),S(!0)):(O(!1),S(!1),b(!1))}),[]),Object(s.useEffect)((function(){B>=z&&k(!0)}),[z]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"row",style:{width:"-webkit-fill-available"},children:Object(D.jsx)("div",{className:"col-12 col-md-8 offset-md-2",children:Object(D.jsx)("div",{className:"row",style:{width:"-webkit-fill-available"},children:Object(D.jsx)("div",{className:"col-sm-12",children:Object(D.jsx)("div",{className:"card p-5",children:Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{className:"d-flex justify-content-between",children:Object(D.jsx)("span",{className:"pro-heading-b mb-2",children:l&&l.name||" "})}),v&&void 0!==z&&void 0!==B&&Object(D.jsx)("div",{children:Object(D.jsx)("div",{className:"countdown-style mb-2",children:Object(D.jsx)(T,{date:Date.now()+(z-B),children:Object(D.jsx)(N,{setShowBtn:b})})})}),g&&void 0!==I&&void 0!==B&&Object(D.jsx)("div",{children:Object(D.jsx)("div",{className:"countdown-style mb-2",children:Object(D.jsx)(T,{date:Date.now()+(I-B),children:Object(D.jsx)(C,{})})})}),Object(D.jsx)("p",{children:Object(D.jsxs)("span",{className:"pro-date mb-0",children:[Object(D.jsx)("i",{className:"far fa-calendar"})," ",Object(D.jsx)(o.a,{format:"D MMM YYYY",withTitle:!0,children:l&&l.start_date||" "})," ","-"," ",Object(D.jsx)(o.a,{format:"D MMM YYYY",withTitle:!0,children:l&&l.end_date||" "})]})})]}),Object(D.jsx)("div",{className:"col-md-6 mb-2",children:M&&Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col-sm-6",children:Object(D.jsx)("div",{className:"card bg-cr-1 text-white ",children:Object(D.jsx)("div",{className:"d-inline-block m-1",children:Object(D.jsxs)("span",{className:"dashboard-cd-blc m-2",children:["Results :"," ",d&&d.result&&d.result.toFixed(2),"%"]})})})}),Object(D.jsx)("div",{className:"col-sm-6",children:Object(D.jsx)("div",{className:"card bg-cr-1 text-white ",children:Object(D.jsx)("div",{className:"d-inline-block m-1",children:Object(D.jsxs)("span",{className:"dashboard-cd-blc m-2",children:["Participant :"," ",d&&d.total_participants]})})})})]})})]}),Object(D.jsx)("div",{className:"card mb-4",children:Object(D.jsxs)("div",{className:"card-body bg-lit-gr",children:[Object(D.jsx)("h4",{className:"font-18",children:"Description"}),Object(D.jsx)("p",{className:"font-14 text-justify",children:l&&l.description||""})]})}),f&&Object.keys(l).length>0&&!l.is_voted&&Object(D.jsxs)("div",{className:"mt-4",children:[Object(D.jsx)("button",{type:"button","data-toggle":"modal","data-target":"#exampleModalCentered",className:"btn btn-success btn-green w-25 btn-lg mr-3",children:"Agree"}),Object(D.jsx)("button",{type:"button","data-toggle":"modal","data-target":"#exampleModalCentered1",className:"btn btn-dark w-25 btn-lg",children:"Disagree"})]})]})})})})})}),Object(D.jsx)("div",{className:"modal fade bd-example-modal-sm",id:"exampleModalCentered",role:"dialog","aria-labelledby":"exampleModalCenteredLabel","aria-hidden":"true",children:Object(D.jsx)("div",{className:"modal-dialog modal-sm modal-sm-cu modal-dialog-centered",role:"document",children:Object(D.jsxs)("div",{className:"modal-content",children:[Object(D.jsx)("div",{className:"modal-header border-0",children:Object(D.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(D.jsx)("span",{className:"font-18","aria-hidden":"true",children:"\xd7"})})}),Object(D.jsxs)("div",{className:"modal-body text-center ",children:[Object(D.jsxs)("p",{children:["You Agree with this ",Object(D.jsx)("b",{children:"Voting"})]}),Object(D.jsx)("button",{type:"button",className:"btn btn-primary w-25 btn-md","data-dismiss":"modal","aria-label":"Close",onClick:function(){var e=t.params.id;i({election_id:e,agree:!0,setShowBtn:b})},children:"Ok"})]}),Object(D.jsx)("div",{className:"modal-footer border-0"})]})})}),Object(D.jsx)("div",{className:"modal fade bd-example-modal-sm",id:"exampleModalCentered1",role:"dialog","aria-labelledby":"exampleModalCenteredLabel","aria-hidden":"true",children:Object(D.jsx)("div",{className:"modal-dialog modal-sm modal-sm-cu modal-dialog-centered",role:"document",children:Object(D.jsxs)("div",{className:"modal-content",children:[Object(D.jsx)("div",{className:"modal-header border-0",children:Object(D.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(D.jsx)("span",{className:"font-18","aria-hidden":"true",children:"\xd7"})})}),Object(D.jsxs)("div",{className:"modal-body text-center ",children:[Object(D.jsxs)("p",{children:["You Disagree with this ",Object(D.jsx)("b",{children:"Voting"})]}),Object(D.jsx)("button",{type:"button",className:"btn btn-primary w-25 btn-md","data-dismiss":"modal","aria-label":"Close",onClick:function(){var e=t.params.id;i({election_id:e,agree:!1,setShowBtn:b})},children:"Ok"})]}),Object(D.jsx)("div",{className:"modal-footer border-0"})]})})})]})}))}}]);
//# sourceMappingURL=53.611c5477.chunk.js.map