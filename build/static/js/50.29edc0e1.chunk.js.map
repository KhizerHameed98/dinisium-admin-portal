{"version":3,"sources":["Components/RequestWithdraw/SingleApprovedRequest/ViewDetailss/ViewDetails.js"],"names":["ViewDetails","props","useState","show","setShow","rejectionMessage","setRejectionMessage","id","location","state","dispatch","kycid","useDispatch","useEffect","getKycbyId","KycDataa","useSelector","kyc","response","data","admin_id","auth","userDetails","amount","handleClose","className","onHide","backdrop","keyboard","centered","type","onClick","Body","placeholder","name","value","onChange","e","target","required","dataa","status","rejectWithdraw","RejectRequest","Footer","style","paddingLeft","paddingRight","full_name","nationality","dob","permanent_address","city","state_or_province","country","bank_name","swift","account_number","account_title","kyc_status","toFixed","approved_by","marginLeft","color","fontWeight","fontSize","width","approveWithdraw","approveRequest"],"mappings":"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","file":"static/js/50.29edc0e1.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport { useDispatch } from \"react-redux\";\nimport { getWithdrawRequest } from \"../../../../Services/getWithdrawRequest\";\nimport {\n  getKycbyId,\n  GetKycStatus,\n  getSingleApprovedKyc,\n} from \"../../../../Services/kycServices\";\nimport { useSelector } from \"react-redux\";\nimport { approveWithdraw } from \"../../../../Services/approveWithdraw\";\nimport { rejectWithdraw } from \"../../../../Services/rejectWithdraw\";\n\nconst ViewDetails = (props) => {\n  const [show, setShow] = useState(false);\n  const [rejectionMessage, setRejectionMessage] = useState(\"\");\n\n  const id = props.location.state.id;\n  const kyc_id = props.location.state.kycid;\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getKycbyId(props.location.state.kycid));\n  }, []);\n\n  const KycDataa = useSelector((state) => state?.kyc?.response?.data);\n\n  const admin_id = useSelector((state) => state?.auth?.userDetails?.id);\n\n  const amount = props.location.state.amount;\n  const approveRequest = (id) => {\n    const data = {\n      status: \"approved\",\n    };\n    dispatch(approveWithdraw(data, id));\n  };\n\n  const rejectRequest = () => {\n    setShow(true);\n  };\n\n  const handleClose = () => {\n    setShow(false);\n  };\n\n  const handleChange = (e) => {\n    setRejectionMessage(e.target.value);\n  };\n\n  const RejectRequest = () => {\n    const dataa = {\n      status: \"rejected\",\n      rejectionMessage: rejectionMessage,\n    };\n    dispatch(rejectWithdraw(dataa, id, setShow));\n    setShow(false);\n  };\n\n  return (\n    <>\n      <div className=\"col-12 col-md-10 offset-md-1\">\n        {/* <Modal\n          size=\"sm\"\n          show={show}\n          onHide={handleClose}\n          style={{ opacity: 1 }}\n          centered\n        > */}\n        <Modal\n          show={show}\n          onHide={handleClose}\n          backdrop=\"static\"\n          keyboard={false}\n          centered\n        >\n          <div className=\"modal-header border-0\">\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span className=\"font-18\">&times;</span>\n            </button>\n          </div>\n          <Modal.Body className=\"text-center\">\n            <div>\n              <p>Give a Reason For Rejection</p>\n              <input\n                type=\"text\"\n                placeholder=\"Rejection Message*\"\n                className=\"form-control\"\n                name=\"rejection_message\"\n                value={rejectionMessage}\n                onChange={handleChange}\n                required\n              />\n              <br />\n              <button\n                type=\"button\"\n                className=\"btn btn-danger w-30 btn-md mr-2\"\n                onClick={() => RejectRequest(id)}\n              >\n                Reject\n              </button>\n            </div>\n          </Modal.Body>\n          <Modal.Footer className=\"border-0\"></Modal.Footer>\n        </Modal>\n\n        <div className=\"row\">\n          <div className=\"col-sm-12\">\n            <div className=\"card pu-rel text-dark p-5 mb-3\">\n              <h2\n                className=\"page-title-heading mb-4 font-30 text-center d-flex justify-content-between\"\n                style={{ paddingLeft: \"35px\", paddingRight: \"20px\" }}\n              >\n                Details\n                {/* <CSVLink\n                  data={csvData}\n                  headers={headers}\n                  filename=\"KYC_Detail.csv\"\n                > */}\n                {/* <button className=\"btn btn-primary\">Export CSV</button>  */}\n                {/* </CSVLink> */}\n              </h2>\n\n              <div className=\"row\">\n                <div className=\"col-12 col-md-12\">\n                  <ul className=\"row profile-detail\">\n                    <li className=\"col-12 col-md-6\">\n                      <span>Name</span>\n                      <span>{KycDataa?.full_name}</span>\n                    </li>\n\n                    <li className=\"col-12 col-md-6\">\n                      <span>Nationality</span>\n                      <span>{KycDataa?.nationality}</span>\n                    </li>\n                    <li className=\"col-12 col-md-6\">\n                      <span>Date Of Birth</span>\n                      <span>{KycDataa?.dob}</span>\n                    </li>\n                    <li className=\"col-12 col-md-6\">\n                      <span>Address</span>\n                      <span>{KycDataa?.permanent_address}</span>\n                    </li>\n                    <li className=\"col-12 col-md-6\">\n                      <span>City</span>\n                      <span>{KycDataa?.city}</span>\n                    </li>\n                    <li className=\"col-12 col-md-6\">\n                      <span>State or Province</span>\n                      <span>{KycDataa?.state_or_province}</span>\n                    </li>\n\n                    <li className=\"col-12 col-md-6\">\n                      <span>Country</span>\n                      <span>{KycDataa?.country}</span>\n                    </li>\n\n                    <li className=\"col-12 col-md-6\">\n                      <span>Bank Name</span>\n                      <span>{KycDataa?.bank_name}</span>\n                    </li>\n\n                    <li className=\"col-12 col-md-6\">\n                      <span>Swift Code</span>\n                      <span>{KycDataa?.swift}</span>\n                    </li>\n                    <li className=\"col-12 col-md-6\">\n                      <span>Account Number</span>\n                      <span>{KycDataa?.account_number}</span>\n                    </li>\n                    <li className=\"col-12 col-md-6\">\n                      <span>Account Title</span>\n                      <span>{KycDataa?.account_title}</span>\n                    </li>\n\n                    <li className=\"col-12 col-md-6\">\n                      <span>KYC</span>\n                      <span>{KycDataa?.kyc_status}</span>\n                    </li>\n\n                    <li className=\"col-12 col-md-6\">\n                      <span>Amount Withdraw</span>\n                      <span>{amount?.toFixed(2)}</span>\n                    </li>\n                  </ul>\n                </div>\n                {admin_id === props?.location?.state?.approved_by ? (\n                  <div>\n                    <p\n                      style={{\n                        marginLeft: \"25rem\",\n                        color: \"#2e7d32\",\n                        fontWeight: \"bold\",\n                        fontSize: \"0.9rem\",\n                      }}\n                    >\n                      Approved by you\n                    </p>\n                  </div>\n                ) : (\n                  <>\n                    <button\n                      style={{ marginLeft: \"5%\", width: \"150px\" }}\n                      className=\"btn btn-success text-white width-max-content\"\n                      onClick={() => approveRequest(id)}\n                    >\n                      Approve\n                    </button>\n\n                    <button\n                      style={{ marginLeft: \"55%\", width: \"150px\" }}\n                      className=\"btn btn-danger text-white width-max-content\"\n                      onClick={rejectRequest}\n                    >\n                      Reject\n                    </button>\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n        {/* <!-- end inner row --> */}\n      </div>\n    </>\n  );\n};\n\nexport default ViewDetails;\n"],"sourceRoot":""}