(this["webpackJsonpsuper-admin-frontend"]=this["webpackJsonpsuper-admin-frontend"]||[]).push([[46],{985:function(e,t,s){"use strict";s.r(t);var l=s(10),n=s(2),c=s(13),i=s(20),a=s(419),d=s.n(a),r=s(660),o=s(3),j=function(e){var t=e.showModal,s=e.setShowModal,l=Object(c.c)(),n=Object(c.d)((function(e){var t;return null===(t=e.ito)||void 0===t?void 0:t.seriesDetail})),a=function(){return s(!1)},d=function(e,t){e.preventDefault(),l(Object(i.Fb)(null===n||void 0===n?void 0:n.id,{status:t})),s(!1)};return Object(o.jsxs)(r.a,{size:"sm",show:t,onHide:a,style:{opacity:1},centered:!0,children:[Object(o.jsx)("div",{className:"modal-header border-0",children:Object(o.jsx)("button",{type:"button",className:"close",onClick:a,children:Object(o.jsx)("span",{className:"font-18",children:"\xd7"})})}),Object(o.jsxs)(r.a.Body,{className:"text-center",children:[Object(o.jsx)("p",{children:"Are you sure you want to verify Series create request?"}),Object(o.jsx)("button",{type:"button",className:"btn btn-primary w-30 btn-md mr-2",onClick:function(e){return d(e,"approved")},children:"Approve"}),Object(o.jsx)("button",{type:"button",className:"btn btn-danger w-25 btn-md",onClick:function(e){return d(e,"rejected")},children:"Reject"})]}),Object(o.jsx)(r.a.Footer,{className:"border-0"})]})},b=s(24),u=s(1),p=s(8),m=function(e){var t=e.showUpdateModal,s=e.setShowUpdateModal,a=Object(c.c)(),d=Object(c.d)((function(e){var t;return null===(t=e.ito)||void 0===t?void 0:t.seriesDetail})),j=Object(n.useState)({new_supply:""}),m=Object(l.a)(j,2),O=m[0],h=m[1],v=O.new_supply;console.log("new supply",v);var x=function(){return s(!1)};return Object(o.jsxs)(r.a,{size:"sm",show:t,onHide:x,style:{opacity:1},centered:!0,children:[Object(o.jsx)("div",{className:"modal-header border-0",children:Object(o.jsx)("button",{type:"button",className:"close",onClick:x,children:Object(o.jsx)("span",{className:"font-18",children:"\xd7"})})}),Object(o.jsxs)(r.a.Body,{className:"text-center",children:[Object(o.jsx)("p",{children:"Are you sure you want to update Series?"}),Object(o.jsxs)("div",{className:"form-group text-left",children:[Object(o.jsx)("label",{className:"",children:"New Supply"}),Object(o.jsx)("input",{id:"exampleInputEmail1",type:"number",placeholder:"Enter new Supply*",className:"form-control",name:"new_supply",value:v,min:0,onChange:function(e){h(Object(u.a)(Object(u.a)({},O),{},Object(b.a)({},e.target.name,e.target.value)))},required:!0})]}),Object(o.jsx)("button",{type:"button",className:"btn btn-primary w-30 btn-md mr-2",onClick:function(e){e.preventDefault(),O.new_supply<0?p.b.error("New Supply should be greater than 0"):(a(Object(i.yb)(null===d||void 0===d?void 0:d.id,O)),s(!1))},children:"Update"})]}),Object(o.jsx)(r.a.Footer,{className:"border-0"})]})},O=function(e){var t=e.showUpdateVerifyModal,s=e.setShowUpdateVerifyModal,l=Object(c.c)(),n=Object(c.d)((function(e){var t;return null===(t=e.ito)||void 0===t?void 0:t.seriesDetail})),a=function(){return s(!1)},d=function(e,t){e.preventDefault(),l(Object(i.Gb)(null===n||void 0===n?void 0:n.id,{update_status:t})),s(!1)};return Object(o.jsxs)(r.a,{size:"md",show:t,onHide:a,style:{opacity:1},centered:!0,children:[Object(o.jsx)("div",{className:"modal-header border-0",children:Object(o.jsx)("button",{type:"button",className:"close",onClick:a,children:Object(o.jsx)("span",{className:"font-18",children:"\xd7"})})}),Object(o.jsxs)(r.a.Body,{className:"text-center",children:[Object(o.jsx)("p",{children:"Are you sure you want to verify Series updation request?"}),Object(o.jsxs)("ul",{className:"row profile-detail",children:[Object(o.jsxs)("li",{className:"col-12 col-md-6",style:{border:"0px"},children:[Object(o.jsx)("span",{children:"Previous total supply"}),Object(o.jsx)("span",{children:null===n||void 0===n?void 0:n.supply})]}),Object(o.jsxs)("li",{className:"col-12 col-md-6",style:{border:"0px"},children:[Object(o.jsx)("span",{children:"Previous remaining Supply"}),Object(o.jsx)("span",{children:null===n||void 0===n?void 0:n.remaining_supply})]}),Object(o.jsxs)("li",{className:"col-12 col-md-6",style:{border:"0px"},children:[Object(o.jsx)("span",{children:"Updated total supply"}),Object(o.jsx)("span",{children:(null===n||void 0===n?void 0:n.supply)+(null===n||void 0===n?void 0:n.new_supply)})]}),Object(o.jsx)("li",{className:"col-12 col-md-6",style:{border:"0px"}}),Object(o.jsxs)("li",{className:"col-12 col-md-6",style:{border:"0px"},children:[Object(o.jsx)("span",{children:"Updated total supply"}),Object(o.jsx)("span",{children:(null===n||void 0===n?void 0:n.supply)+(null===n||void 0===n?void 0:n.new_supply)})]}),Object(o.jsxs)("li",{className:"col-12 col-md-6",style:{border:"0px"},children:[Object(o.jsx)("span",{children:"Updated remaining Supply"}),Object(o.jsx)("span",{children:(null===n||void 0===n?void 0:n.remaining_supply)+(null===n||void 0===n?void 0:n.new_supply)})]})]}),Object(o.jsx)("button",{type:"button",className:"btn btn-primary w-30 btn-md mr-2",onClick:function(e){return d(e,"approved")},children:"Approve"}),Object(o.jsx)("button",{type:"button",className:"btn btn-danger w-25 btn-md",onClick:function(e){return d(e,"rejected")},children:"Reject"})]}),Object(o.jsx)(r.a.Footer,{className:"border-0"})]})};t.default=Object(c.b)(null,{getItoSeriesById:i.M})((function(e){var t,s,i,a=e.match,r=e.getItoSeriesById,b=e.location,u=Object(c.d)((function(e){var t;return null===(t=e.ito)||void 0===t?void 0:t.seriesDetail}));Object(c.d)((function(e){var t;return null===(t=e.auth)||void 0===t?void 0:t.userDetails}));console.log("series",u);var p=Object(n.useState)(!1),h=Object(l.a)(p,2),v=h[0],x=h[1],y=Object(n.useState)(!1),f=Object(l.a)(y,2),N=f[0],w=f[1],g=Object(n.useState)(!1),S=Object(l.a)(g,2),_=S[0],M=S[1],U=Object(n.useState)(!1),D=Object(l.a)(U,2),k=D[0],C=D[1];Object(n.useEffect)((function(){var e;r({seriesId:a.params.id}),"pastIto"!==(null===b||void 0===b||null===(e=b.state)||void 0===e?void 0:e.status)?x(!0):x(!1)}),[]);var I=(new Date).toISOString();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"col-12 col-md-8 offset-md-2",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col-sm-12",children:[Object(o.jsxs)("div",{className:"card p-5",children:[Object(o.jsxs)("div",{className:"d-flex justify-content-lg-between",children:[Object(o.jsxs)("p",{style:{fontSize:"12px"},children:[Object(o.jsx)("span",{style:{fontWeight:"bold",marginRight:"0.5rem"},children:"Series Name:"}),u&&u.name]}),Object(o.jsxs)("p",{style:{fontSize:"12px"},children:[Object(o.jsx)("span",{style:{fontWeight:"bold",marginRight:"0.5rem"},children:"ITO Name:"}),u&&u.ito_name]})]}),Object(o.jsx)("p",{children:Object(o.jsxs)("span",{className:"pro-date mb-0",children:[Object(o.jsx)("i",{className:"far fa-calendar"}),Object(o.jsx)(d.a,{format:"D MMM YYYY",withTitle:!0,children:u&&u.start_date}),"-"," ",Object(o.jsx)(d.a,{format:"D MMM YYYY",withTitle:!0,children:u&&u.end_date})]})}),Object(o.jsx)("div",{className:"card mb-4",children:Object(o.jsxs)("div",{className:"card-body bg-lit-gr",children:[Object(o.jsx)("h4",{className:"font-18",children:"Description"}),Object(o.jsx)("p",{className:"font-14 text-justify",children:u&&u.description})]})}),Object(o.jsxs)("ul",{className:"row profile-detail",children:[Object(o.jsxs)("li",{className:"col-12 col-md-6",style:{border:"0px"},children:[Object(o.jsx)("span",{children:"Supply"}),Object(o.jsx)("span",{children:null===u||void 0===u?void 0:u.supply})]}),Object(o.jsxs)("li",{className:"col-12 col-md-6",style:{border:"0px"},children:[Object(o.jsx)("span",{children:"Remaining Supply"}),Object(o.jsx)("span",{children:null===u||void 0===u?void 0:u.remaining_supply})]}),(null===u||void 0===u?void 0:u.update_request_userid)&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("li",{className:"col-12 col-md-6",style:{border:"0px"},children:[Object(o.jsx)("span",{children:"Requested new supply"}),Object(o.jsx)("span",{children:null===u||void 0===u?void 0:u.new_supply})]}),Object(o.jsx)("li",{className:"col-12 col-md-6",style:{border:"0px"}}),Object(o.jsxs)("li",{className:"col-12 col-md-6",style:{border:"0px"},children:[Object(o.jsx)("span",{children:"Updated total supply"}),Object(o.jsx)("span",{children:(null===u||void 0===u?void 0:u.supply)+(null===u||void 0===u?void 0:u.new_supply)})]}),Object(o.jsxs)("li",{className:"col-12 col-md-6",style:{border:"0px"},children:[Object(o.jsx)("span",{children:"Updated remaining Supply"}),Object(o.jsx)("span",{children:(null===u||void 0===u?void 0:u.remaining_supply)+(null===u||void 0===u?void 0:u.new_supply)})]})]})]}),v&&Object(o.jsx)("div",{children:null!==u&&void 0!==u&&u.update_request_userid?Object(o.jsx)("button",{className:"btn btn-primary w-25 btn-lg mr-3",onClick:function(e){e.preventDefault(),C(!0)},disabled:"approved"!==(null===u||void 0===u?void 0:u.status),children:"Verify Updation"}):Object(o.jsx)("button",{className:"btn btn-primary w-25 btn-lg mr-3",onClick:function(e){e.preventDefault(),M(!0)},disabled:"approved"!==(null===u||void 0===u?void 0:u.status)||I>(null===u||void 0===u?void 0:u.end_date),children:"Update Series"})})]}),v&&Object(o.jsx)("div",{className:"mt-3",children:Object(o.jsx)("button",{type:"button",className:"btn btn-primary w-100 btn-lg mr-3",onClick:function(e){e.preventDefault(),w(!0)},disabled:"pending"!==(null===u||void 0===u?void 0:u.status),children:"pending"===(null===u||void 0===u?void 0:u.status)?"Verify":null===u||void 0===u||null===(t=u.status)||void 0===t?void 0:t.replace(null===u||void 0===u||null===(s=u.status)||void 0===s?void 0:s.charAt(0),null===u||void 0===u||null===(i=u.status)||void 0===i?void 0:i.charAt(0).toUpperCase())})})]})})}),N&&Object(o.jsx)(j,{showModal:N,setShowModal:w}),_&&Object(o.jsx)(m,{showUpdateModal:_,setShowUpdateModal:M}),k&&Object(o.jsx)(O,{showUpdateVerifyModal:k,setShowUpdateVerifyModal:C})]})}))}}]);
//# sourceMappingURL=46.c4d5fa05.chunk.js.map